{% extends 'base.html' %} {% block content %}

<h3 class="center-align blue-grey-text text-darken-2">Add task</h3>
<!-- Form elements taken from materialize -->
<div class="row">
    <!-- form submits data to /insert_task page -->
    <form
        action="{{url_for('insert_task')}}"
        method="POST"
        class="col s12 m8 offset-m2 card-panel teal lighten-5 blue-grey-text text-darken-2"
    >
        <!-- Creates a dropdown for the categories -->
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">poll</i>
                <select id="category" name="category_name">
                    <option value="" disabled selected>
                        Choose your option
                    </option>
                    {% for cat in categories %}
                    <option value="{{cat.category_name}}">
                        {{cat.category_name}}
                    </option>
                    {% endfor %}
                </select>
                <label>Task Category</label>
            </div>
        </div>
        <!-- Creates a task name input with required 5-15 length -->
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">assignment</i>
                <input
                    id="task_name"
                    name="task_name"
                    minlength="5"
                    maxlength="15"
                    type="text"
                    class="validate"
                    required
                />
                <label for="task_name">Task Name</label>
            </div>
        </div>
        <!-- Creates the task description required with 5 - 200 length -->
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">subject</i>
                <textarea
                    id="task_description"
                    name="task_description"
                    minlength="5"
                    maxlength="200"
                    class="materialize-textarea"
                    required
                ></textarea>
                <label for="task_description">Task Description</label>
            </div>
        </div>
        <!-- Creates a date picker -->
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">today</i>
                <input
                    id="due_date"
                    name="due_date"
                    type="text"
                    class="datepicker validate"
                    required
                />
                <label for="task_name">Due Date</label>
            </div>
        </div>
        <!-- Creates a switch to set the task urgent or non  urgent -->
        <div class="row">
            <div class="input-field col s12">
                <div class="switch">
                    <i class="material-icons prefix">announcement</i>
                    <label for="is_urgent">
                        <input
                            id="is_urgent"
                            name="is_urgent"
                            type="checkbox"
                        />
                        <span class="lever"></span>
                        Is Urgent
                    </label>
                </div>
            </div>
        </div>
        <div class="row">
            <button
                class="col s6 offset-s3 l4 offset-l4 btn-large waves-effect waves-light teal"
                type="submit"
                name="action"
            >
                Add Task
                <i class="material-icons right">playlist_add</i>
            </button>
        </div>
    </form>
</div>

{% endblock %}
