<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        {% block styles %} {% endblock %}
        <title>Task Manager</title>

        <!-- Materialize icons -->
        <link
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet"
        />
        <!-- Materialize CDN-->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
            type="text/css"
        />
        <!-- Link up my own static stylesheet -->
        <link
            rel="stylesheet"
            href="{{url_for('static',filename='css/style.css')}}"
        />
    </head>
    <body>
        {% block content %} {% endblock %}

        <!-- Materialize js and jQuery CDN as v0.1 is based on jQuery -->
        <script
            src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"
        ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script src="{{ url_for('static', filename='js/script.js')}}"></script>
        {% block scripts %}{% endblock %}
        <!-- This initialises the collapsable module to be run only when the HTML elements have rendered and is needed as we will be adding tasks dynamically to it-->
        <!-- It also initializes few form elements -->
        <script>
            $(document).ready(function () {
                $(".collapsible").collapsible();
                $("select").material_select();
            });
            $(".datepicker").pickadate({
                selectMonths: true, // Creates a dropdown to control month
                selectYears: 15, // Creates a dropdown of 15 years to control year,
                today: "Today",
                clear: "Clear",
                close: "Ok",
                closeOnSelect: false, // Close upon selecting a date,
                container: undefined, // ex. 'body' will append picker to body
            });
            // Thiese last two functions were added to make date picker and options selector in form work as old version of materialize is not compatible with chrome any longer
            document
                .getElementById("matfix")
                .addEventListener("click", function (e) {
                    e.stopPropagation();
                });
            document
                .getElementById("choose_cat")
                .addEventListener("click", function (e) {
                    e.stopPropagation();
                });
        </script>
    </body>
</html>
